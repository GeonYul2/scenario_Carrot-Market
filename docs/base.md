Gemini said
건율님의 **[소상공인 경기 지표 개발 경험]**과 **[노바리움의 실험 로직]**이 당근 CRM 실무에서 어떻게 시너지를 내는지 보여줄 전체 워크플로우와 상세 시나리오입니다.

이 프로젝트의 핵심은 **"데이터로 문제를 정의하고(사장님의 미매칭), SQL로 타겟을 추출하여, 통계적으로 성과를 증명하는 것"**입니다.

1. CRM 캠페인 전체 워크플로우 (Logic Diagram)
이 로직은 당근 CRM 팀에서 실제로 수행하는 업무 프로세스를 그대로 반영하고 있습니다.

코드 스니펫
graph TD
    A[문제 정의: 미매칭 공고 발생] --> B{데이터 탐색 & 추출}
    B -->|SQL| C[세그먼트 정의: 전환 가망 유저]
    C --> D[실험 설계: A/B Test & Holdout]
    D --> E[CRM 액션: 개인화 푸시 발송]
    E --> F{성과 측정 & 모니터링}
    F -->|Lift 분석| G[비즈니스 의사결정 지원]
    F -->|가드레일| H[유저 피로도/차단율 관리]
    G --> I[로직 고도화 및 자동화]
2. 상세 CRM 시나리오: "당근알바 첫 매칭 지원 프로젝트"
이 시나리오는 당근이 지향하는 **"서비스들 간의 상호 성장"**과 "사용자가 당근을 더 좋아하게 만드는 마케팅" 가치를 기반으로 합니다.

[Phase 1] 문제 정의 및 지표 설정 (OMTM)
배경: 지역 기반 서비스 특성상, 신규 등록된 알바 공고가 24시간 내 지원자가 0명일 경우 사장님의 이탈 가능성이 급증함.

핵심 목표(Primary Metric): 미매칭 공고(지원자 0명)의 '첫 지원 발생률'.


가드레일 지표(Guardrail): 푸시 알림으로 인한 '알림 차단율(Opt-out Rate)'. 

[Phase 2] SQL 기반 세그먼트 엔지니어링
건율님의 소상공인 복합 데이터 가공 역량을 증명하는 단계입니다.

타겟 조건:

공고와 동일한 동네(dong_id)에 거주하는 유저.

최근 7일 내 해당 알바 카테고리(예: 편의점, 서빙) 공고를 2회 이상 조회했으나 지원 이력이 없는 유저.


건율님만의 로직: 자동차 이탈 분석 시 활용한 Q3+1.5×IQR 기준을 적용하여, 평소 앱 방문 주기를 초과한 유저를 우선순위로 추출.

[Phase 3] A/B 테스트 및 실험 설계
노바리움 프로젝트의 실험 로직을 실전으로 옮깁니다.

실험 설계:

실험군(Treatment): 개인화 푸시 메시지 발송 ("OO님, 어제 보신 편의점 알바, 지금 지원하면 합격 확률이 높아요!")

대조군(Holdout): 아무런 조치를 취하지 않음 (순수 유입과의 차이 측정을 위해 10% 유지).


트래픽 분기: user_id 기반 Hash 분기를 통해 실험의 일관성 확보.

[Phase 4] 안티그래비티 기반 가상 결과 시뮬레이션
AI 가상 유저를 통해 캠페인의 인과관계를 입증합니다.

가상 데이터 생성:

대조군의 자연 지원 확률: P(apply∣control)=0.02

실험군의 푸시 반응 지원 확률: P(apply∣treatment)=0.05

성과 분석: 생성된 로그를 바탕으로 증분 효과(Incremental Lift) 산출.

Lift= 
CVR 
control
​
 
CVR 
treatment
​
 −CVR 
control
​
 
​
 ×100%
3. 안티그래비티에게 요청할 DB 요구사항
이 시나리오가 사실성을 갖추려면 안티그래비티에게 다음 데이터 환경을 요청해야 합니다.

시계열성: 유저가 공고를 조회한 시점과 푸시를 받은 시점, 그리고 다시 앱에 들어온 시점이 논리적으로 이어져야 함.

지역성: 당근의 핵심 가치인 '동네'를 반영하기 위해, 동네 코드(dong_id)가 일치할 때만 매칭이 일어나는 로그 설계.

부정 반응: 모든 푸시가 성공하지 않도록, 일부 AI 유저가 푸시 수신 후 알림을 끄는(push_off) 액션을 포함할 것.